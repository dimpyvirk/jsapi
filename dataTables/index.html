<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Data Tables test</title>
    <link href="http://code.jquery.com/ui/jquery-ui-git.css" type="text/css" rel="stylesheet" />
    <link href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css" rel="stylesheet" type="text/css" >
        
</head>
<body>
	<button id="initialise" onClick="initialise()" style="display: none" ;type="button">Initialise</button>
	<button class="results" onClick="loadResults1()" style="display: none;" type="button">Load results 1</button>
	<button class="results" onClick="loadResults2()" style="display: none;" type="button">Load results 2</button>
	<button class="results" onClick="loadResults3()" style="display: none;" type="button">Load results 3</button>
	
	<style>
		#resultsSet1, #resultsSet2, #resultsSet3 {
			margin-top: 20px;
			border: 1px solid #333;
		}
		
	</style>
    	       	
   	<div id="SearchResults">
   		<div id="searchResultsTabs">
   			<ul id="searchResultsTabsUL"></ul>
   		</div>
   	</div>
       	
    <script type="text/javascript">djConfig={parseOnLoad:true};</script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/ui/1.9.1/jquery-ui.min.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js" ></script>
    <script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=3.3compact"></script>
    <script type="text/javascript" src="SelectionSet.js"></script>
    
    <script type="text/javascript">
    
    $(document).ready(function() {
     	$("#initialise").show();
    });
    
    var resultsSet1, resultsSet2, resultsSet3;
    
    function initialise() {
    	//Define the empty tables. Seemingly, only the last object defined will work (comment out resultsSet3, and resultsSet2 will start to work).
    	resultsSet1 = new modules.SelectionLayer({id:"resultsSet1",fields: ["Name","Address1","Town"]});
    	resultsSet2 = new modules.SelectionLayer({id:"resultsSet2",fields: ["Name","region_id","Tot_P_P","Shape_Area"]});
    	resultsSet3 = new modules.SelectionLayer({id:"resultsSet3",fields: ["Site_name", "Lat", "Long"]})
    	
    	//Enable tabs, then toggle the UI buttons
	   	$("#searchResultsTabs").tabs();
    	$("#initialise").hide();
    	$(".results").show();
    }
    
    function loadResults1() {
    	//Define a couple of features, then add them to the table
    	var features = [
    	  {"attributes": {"Name": "Mitcham Mall","Address1": "Enterprise Way","Town": "Mitcham"}},
    	  {"attributes": {"Name": "Batchelor","Address1": "Nurndina Street","Town": "Batchelor"}}
    	 ];
    	 
    	 resultsSet1.addFeatures(features);
    }
    
    function loadResults2() {
    	//Define a couple of features, then add them to the table
    	var features= [
    	  {"attributes": {"Name": "Albury (C)","region_id": "LGA10050","Tot_P_P": 47810,"Shape_Area": 468710730}},
    	  {"attributes": {"Name": "Armidale (A)","region_id": "LGA10110","Tot_P_P": 24105,"Shape_Area": 5722894900}}
    	 ];
    	 
    	 resultsSet2.addFeatures(features);
    }
    
    function loadResults3() {
    	//Define a couple of features, then add them to the table
    	var features = [
    	  {"attributes": {"Site_name": "KUNMUNYA","Lat": -15.416,"Long": 124.7167}},
    	  {"attributes": {"Site_name": "WYNDHAM PORT","Lat": -15.464,"Long": 128.099}}
    	 ];
    	 
    	 resultsSet3.addFeatures(features);
    }
        	
    </script>
    
</body>
</html>
