

<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=7,IE=9" />
        <!--The viewport meta tag is used to improve the presentation and behavior of the samples
        on iOS devices-->
        <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
        <title>Backbone test</title>
        <link rel="stylesheet" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/dojo/dijit/themes/claro/claro.css">
        <link rel="stylesheet" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/esri/css/esri.css" /> 
        
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <script src='js/icanhaz.min.js' ></script>
        <script src='js/underscore-min.js' ></script>
        <script src='js/backbone-min.js' ></script>
        <script src="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/"></script>
        
        <!--add the userConfig objects-->
        <script src="config/userConfig.js"></script>
        <script src="config/userConfig2.js"></script>
        
        <!--define the Map model-->
        <script src="js/mapModel.js"></script>
        
        <script type="text/javascript">
        	
            /* MapInfo View 
            MapInfoView = Backbone.View.extend({
                initialize: function (args) {
                    this.template = ich[this.options.template];
                    this.model.bind('change', this.render, this);
                },
                render: function () {
                    var content = this.template(this.model.toJSON(), true);
                    $(this.el).html(content);

                    return this;
                }
            });
            */

			var feObj = {};
            dojo.addOnLoad(function () {
                feObj.map1 = new fe.MapModel({
                	div: "map1",
                	userConfig: testConfig                
                });
                //new MapInfoView({ model: map1, template: 'extent-template', el: '#info' });
                //new MapInfoView({ model: map1, template: 'mousecoords-template', el: '#coords' });
                
                feObj.map2 = new fe.MapModel({
                	div: "map2",
                	userConfig: testConfig2
                });
            });
        </script>

            
        <script type="text/html" id="extent-template">
            XMin: {{xmin}} YMin: {{ymin}} XMax: {{xmax}} YMax: {{ymax}}
        </script>

        <script type="text/html" id="mousecoords-template">
            {{#x}}
                {{x}}, {{y}}
            {{/x}}
            &nbsp;
        </script>
               
    </head>
    
    <body class="claro">
        <div id="mainWindow" data-dojo-type="dijit.layout.BorderContainer" data-dojo-props="design:'headline', gutters:false" style="width:100%; height:100%;">
            <div id="map2" data-dojo-type="dijit.layout.ContentPane"></div>
      	    <div id="map1" data-dojo-type="dijit.layout.ContentPane"></div>
    
            <div id="footer" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="region:'bottom'">
            	<div id="info" style="padding:5px; margin:5px; background-color:#eee;">&nbsp;</div>
            	<div id="coords" style="padding:5px; margin:5px; background-color:#eee;">&nbsp;</div>
          	</div>
        </div>
      </body>
     
</html>