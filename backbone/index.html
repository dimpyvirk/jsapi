<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Full Extent - Map Publishing Framework</title>
    <link rel="shortcut icon" href="http://fullextent.com.au/assets/ico/favicon.ico">
    <link rel="icon" type="image/ico" href="http://fullextent.com.au/assets/ico/favicon.ico">
    <link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/esri/dijit/css/PopupMobile.css">
    <link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/esri/dijit/css/Popup.css" />
    <link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/esri/css/esri.css" />
    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/redmond/jquery-ui.css" />
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" />    
    <link href="css/bootstrapmvc.css" rel="stylesheet" type="text/css" />
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
    <link href="css/font-awesome.css" rel="stylesheet" type="text/css" />
    <link href="css/application.css" rel="stylesheet" type="text/css" />
    <link href="css/jquery.gritter.css" rel="stylesheet" type="text/css" />  
    <!--[if IE 7]>
      <link href="css/font-awesome-ie7.css" rel="stylesheet" type="text/css" />
    <![endif]-->  
    
    <!--Google Analytics-->
    <script type="text/javascript">
    
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-34346939-1']);
      _gaq.push(['_trackPageview']);
    
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    
    </script>
    
    <!--Bug herd>
    <script type='text/javascript'>
    (function (d, t) {
      var bh = d.createElement(t), s = d.getElementsByTagName(t)[0];
      bh.type = 'text/javascript';
      bh.src = '//www.bugherd.com/sidebarv2.js?apikey=62z8ofmjvf8cfm1ldqaz3q';
      s.parentNode.insertBefore(bh, s);
      })(document, 'script');
    </script-->
    
    <style type="text/css">
		
	      
	    </style>
    
    
        
</head>
<body data-spy="scroll" data-target=".subnxav">
    
    <div data-role="page">
    	<div data-role="header" class="navbar navbar-fixed-top">
    		<div id="topbar" class="navbar-inner">
	    		<a class="brand" target="_blank" href="http://www.fullextent.com.au"><img height="30" title="Full Extent" alt="Full Extent logo" src="http://domorewithmaps.com/assets/img/logo.png" /></a>
	    		<div id="title">
		    		<div id="mapTitle"></div>
		    	</div>
	    		<div id="locateBox">
	    			<div id="locateCon" class="iconInput"><div class="iconSearch pushPin" id="clearAddress"></div><input type="text" tabindex="1" autocomplete="off" class="default" value="" title="Find a place" id="address" placeholder="Find a place"></div>
	    		</div>
       		</div>
    	</div>
    	
    	<div data-role="content" id="MainBody" class="container-fluid">
    		<div class="navbar navbar-tools">
    			<div class="navbar-inner">
    				<div class="container">
    					<ul id="LeftTools" class="nav pull-left no-collapse">
	    					<li id="changeMapButton" class="mapButton toggleMenu"> 
	    						<span>
		    						<i class="icon-download-alt toggleMenu"></i>
		    						<span class="hidden-phone toggleMenu">Change map</span>	    			
	    						</span>
	    						<div id="changeMapMenu" class="slideMenu listMenu"></div>
	    					</li>
       						<li id="layersButton" class="mapButton toggleMenu"> 
       							<span>
       								<i class="icon-list toggleMenu"></i><span class="hidden-phone toggleMenu">Layers</span>
       							</span>
       							<div id="layersMenu" class="slideMenu listMenu"></div>
       						</li>
    						<li id="basemapButton" class="mapButton toggleMenu">
    							<span> 
	    							<i class="icon-globe toggleMenu"></i>
	    							<span class="hidden-phone toggleMenu">Basemap</span>
    							</span>
	    						<div id="basemapMenu" class="slideMenu">
	    							<div id="baseContainer"></div>
	    						</div>
    						</li>
    					</ul>
    					<ul id="RightTools" class="nav pull-right no-collapse">
	    					<li id="placesButton" class="mapButton toggleMenu"> 
	    						<span>
		    						<i class="icon-map-marker toggleMenu"></i><span class="hidden-phone toggleMenu">Places</span>
	    						</span>
		    					<div id="placesMenu" class="slideMenu listMenu"></div>
	    					</li>
	    					<li id="shareIcon" class="mapButton toggleMenu"> 
	    						<span>
		    						<i class="icon-share toggleMenu"></i><span class="hidden-phone toggleMenu">Share</span>
	    						</span>
	    						<div id="shareControls" class="slideMenu"></div>	
	    					</li>
	    					<li id="legendButton" class="mapButton"> <i class="icon-picture"></i><span class="hidden-phone">Legend</span></li>
	    					<li id="printButton" class="mapButton"> <i id="printIcon" class="icon-print"></i><span class="hidden-phone">Print</span></li>
    						<!--li id="HelpButton"  class="mapButton"> <i class="icon-question-sign "></i><span class="hidden-phone">Help</span></li-->
    					</ul>
    				</div>
    				
	    			<!--page elements which are required for map functionality-->
	    			<div id="zoomSliderDiv"></div>
	    			<div class="clear"></div>
	    			<div id="autoComplete" class="slideMenu"></div>
	    			<!--
	    			<div id="copyrightText"></div>
	    			<div id="aboutTextModal"></div>
	    			<div id="dialog-message"></div>
	    			-->
    			</div>
    		</div>
    		<div id="mapDiv" class="row-fluid fullmap">
    			<span id="status">Loading...</span>
    			
    		</div>
    		<ul id="doc-container"></ul>
    	</div>
    	
    	<!--The legend dialog is draggable, and resizes automatically depending on its contents, which are set by the MPF-->
    	<div id="legendDialog" class="esriPopup draggable esriPopupWrapper">
    		<div class="titlePane" style="-moz-user-select: none;">
    			<div class="title">Legend</div>
    			<div class="titleButton close" onclick="toggleLegend();" title="Close"></div>
    		</div>
    		<div id="legendDiv"></div>
    	</div>
    	
    	<!--The print dialog is modal-->
    	<div id="printDialog" class="esriPopup draggable esriPopupWrapper">
    		<div class="titlePane" style="-moz-user-select: none;">
    			<div class="title">Print</div>
    			<div class="titleButton close" onclick="togglePrint();"title="Close"></div>
    		</div>
    		<div id="printDialogDiv">
    			<form class="form-horizontal">
    				<label class="control-label" for="txtPrintTitle">Map Title</label>
    				<div class="controls">
    					<input type="text" class="input-large " id="txtPrintTitle" placeholder="Enter a title (optional)">  								
    				</div>
	    			<label class="control-label" for="format">Format</label>
	    			<div id="format" class="controls">
	    				<select id="cboPrintFormat" class="">
	    					<option value="pdf">PDF</option>
	    					<option value="jpg">JPG</option>
	    					<option value="png32">PNG</option>
	    				</select>
	    			</div>
	    			<label class="control-label" for="size">Size</label>
	    			<div id="size" class="controls">
	    				<!-- options filled in by print.js script-->
	    				<select id="cboPrintLayout" class="">	
	    				</select>
	    			</div>	    			
	    		</form>
	    		<span id="printResults">Contents are filled in by the Print functionality</span>	    			
    		</div>
    		<div class="modal-footer">
    		  <button class="btn" data-dismiss="modal" aria-hidden="true" onclick="togglePrint();">Cancel</button>
    		  <button id="btnPrintSubmit" class="btn btn-primary">Print</button>
    		</div>
       	</div> <!--end of print dialog-->
       	
    </div>
    
    <!--Configuration for the ESRI maps-->
    <script src="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/"></script>
    <script type="text/javascript">djConfig={parseOnLoad:true};var userConfig={};</script>
    <script type="text/javascript" src="config/userConfig.js"></script>
    
    <!--common functionality-->
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.14/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/resources/bootstrap.min.js" type="text/javascript" ></script>
    <script type="text/javascript" src='js/resources/underscore-min.js' ></script>
    <script type="text/javascript" src='js/resources/backbone-min.js' ></script>
    
    <!--define the models, views and collections-->
    <script src="js/main.js"></script>
    <script src="js/mapModel.js"></script>
    <script src="js/basemapModel.js"></script>
    
    <script type="text/javascript">
    
    	//Define a global object on which to hang models, views and collections
    	var feObj = {};
    	dojo.addOnLoad(function () {
    	    feObj.map1 = new fe.MapModel({
    	    	div: "mapDiv",
    	    	userConfig: testConfig,
    	    	feZoomSlider: "zoomSliderDiv"              
    	    });
    	});
    	
	</script>
    
 
</body>
</html>
